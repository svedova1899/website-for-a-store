{"mappings":"AAAA,IAAI,cAAc;AAClB,MAAM,QAAQ;AACd,IAAI,aAAa;AAEjB,SAAS;IACP,MAAM,CAAC,qCAAqC,EAAE,YAAY,QAAQ,EAAE,OAAO,EACxE,IAAI,CAAC,CAAA;QACJ,IAAI,CAAC,IAAI,EAAE,EACT,MAAM,IAAI,MAAM;QAElB,aAAa,IAAI,OAAO,CAAC,GAAG,CAAC;QAC7B,OAAO,IAAI,IAAI;IACjB,GACC,IAAI,CAAC,CAAA;QACJ,eAAe;QACf;IACF,GACC,KAAK,CAAC,CAAA;QACL,QAAQ,KAAK,CAAC,+CAAY;IAC5B;AACJ;AAEA,SAAS,eAAe,QAAQ;IAC9B,MAAM,YAAY,SAAS,aAAa,CAAC;IACzC,SAAS,OAAO,CAAC,CAAA;QACf,MAAM,OAAO,SAAS,aAAa,CAAC;QACpC,KAAK,SAAS,CAAC,GAAG,CAAC;QACnB,KAAK,SAAS,GAAG,CAAC;gBACN,EAAE,QAAQ,KAAK,CAAC,OAAO,EAAE,QAAQ,IAAI,CAAC;gCACtB,EAAE,QAAQ,IAAI,CAAC;qCACV,EAAE,QAAQ,WAAW,CAAC;+BAC5B,EAAE,QAAQ,KAAK,CAAC;IAC3C,CAAC;QACD,UAAU,WAAW,CAAC;IACxB;AACF;AAEA,SAAS;IACP,MAAM,aAAa,KAAK,IAAI,CAAC,aAAa;IAC1C,MAAM,MAAM,SAAS,aAAa,CAAC;IACnC,IAAI,eAAe,YACjB,IAAI,KAAK,CAAC,OAAO,GAAG;SAEpB,IAAI,KAAK,CAAC,OAAO,GAAG;AAExB;AAEA,SAAS,aAAa,CAAC,cAAc,gBAAgB,CAAC,SAAS;IAC7D;IACA;AACF;AAEA","sources":["src/index.js"],"sourcesContent":["let currentPage = 1;\r\nconst limit = 10;\r\nlet totalCount = 50;\r\n\r\nfunction loadProducts() {\r\n  fetch(`http://localhost:3000/products?_page=${currentPage}&_limit=${limit}`)\r\n    .then(res => {\r\n      if (!res.ok) {\r\n        throw new Error('Помилка при завантаженні товарів');\r\n      }\r\n      totalCount = res.headers.get('X-Total-Count');\r\n      return res.json();\r\n    })\r\n    .then(data => {\r\n      renderProducts(data);\r\n      checkButtonVisibility();\r\n    })\r\n    .catch(error => {\r\n      console.error('Помилка:', error);\r\n    });\r\n}\r\n\r\nfunction renderProducts(products) {\r\n  const container = document.querySelector('.products-div');\r\n  products.forEach(product => {\r\n    const item = document.createElement('div');\r\n    item.classList.add('product-item');\r\n    item.innerHTML = `\r\n      <img src=\"${product.image}\" alt=\"${product.name}\" class=\"product-img\">\r\n      <h3 class=\"product-title\">${product.name}</h3>\r\n      <p class=\"product-description\">${product.description}</p>\r\n      <p class=\"product-price\">${product.price} UAH</p>\r\n    `;\r\n    container.appendChild(item);\r\n  });\r\n}\r\n\r\nfunction checkButtonVisibility() {\r\n  const totalPages = Math.ceil(totalCount / limit);\r\n  const btn = document.querySelector('.load-more');\r\n  if (currentPage >= totalPages) {\r\n    btn.style.display = 'block';\r\n  } else {\r\n    btn.style.display = 'none';\r\n  }\r\n}\r\n\r\ndocument.querySelector('.load-more').addEventListener('click', () => {\r\n  currentPage++;\r\n  loadProducts();\r\n});\r\n\r\nloadProducts();\r\n"],"names":[],"version":3,"file":"my-project.579125c3.js.map","sourceRoot":"/__parcel_source_root/"}